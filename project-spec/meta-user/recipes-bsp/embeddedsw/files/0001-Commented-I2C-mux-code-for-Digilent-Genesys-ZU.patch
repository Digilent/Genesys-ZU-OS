From 9be4b9f9d08f0df63a5755bc893cbb49fb81189d Mon Sep 17 00:00:00 2001
From: Elod Gyorgy <elod.gyorgy@digilent.ro>
Date: Fri, 31 Jul 2020 22:26:34 +0300
Subject: [PATCH 1/5] Commented I2C mux code for Digilent Genesys ZU.

Wrong Xilinx assumption that all boards have an I2C mux on the DIMM SPD.
---
 lib/sw_apps/zynqmp_fsbl/src/xfsbl_ddr_init.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_ddr_init.c b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_ddr_init.c
index 2043212e6e..0576b6428d 100644
--- a/lib/sw_apps/zynqmp_fsbl/src/xfsbl_ddr_init.c
+++ b/lib/sw_apps/zynqmp_fsbl/src/xfsbl_ddr_init.c
@@ -6645,6 +6645,7 @@ static u32 XFsbl_IicReadSpdEeprom(u8 *SpdData)
 		goto END;
 	}
 
+#if !defined(XPS_BOARD_GZU_3EG) && !defined(XPS_BOARD_GZU_5EV)
 	/*
 	 * Configure I2C Mux to select DDR4 SODIMM Slave
 	 * 0x08U - Enable DDR4 SODIMM module
@@ -6684,6 +6685,7 @@ static u32 XFsbl_IicReadSpdEeprom(u8 *SpdData)
 		UStatus = XFSBL_FAILURE;
 		goto END;
 	}
+#endif //!XPS_BOARD_GZU_3EG && !XPS_BOARD_GZU_5EV
 
 	/*
 	 * Set SODIMM control address to enable access to lower
-- 
2.35.1

